<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0 user-scalable=no" />
  <meta name="theme-color" content="#000000">
  <title>CalorieTracker Application</title>

  <!-- Google Fonts -->
  <link
          href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Satisfy"
          rel="stylesheet">

  <!-- Bootstrap CSS Files -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
  <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>

  <!-- Template Main CSS File -->
  <link th:href="@{/assets/css/style.css}" rel="stylesheet">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>


<body>
<!-- ======= Header ======= -->
<header id="header hero" class="fixed-top d-flex justify-content-center align-items-center header-transparent">

  <nav id="navbar" class="navbar">
    <ul>
      <li><a class="nav-link scrollto" th:href="@{/}">Home</a></li>
      <li><a class="nav-link scrollto" href="#about">About</a></li>
      <li><a class="nav-link scrollto" href="#contact">Contact</a></li>
    </ul>
    <ul style="padding-left: 800px">

      <li><a class="nav-link scrollto" th:href="@{/editprofile}">Preferences</a></li>
      <li><a class="nav-link scrollto" th:href="@{/logout}">Logout</a></li>

    </ul>
    <i class="bi bi-list mobile-nav-toggle"></i>
  </nav><!-- .navbar -->

</header><!-- End Header -->
<section id="signup">

  <main>
    <div class="container py-4" >
      <header class="pb-3 mb-4">
        <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
        </a>
      </header>

      <h1>Dashboard</h1>
      <div class="row align-items-md-stretch mb-4">
        <div class="col-md-6">
          <div class="shadow h-100 p-5 text-bg-warning rounded-3">
            <p>Today's Calories:</p>
            <h1 th:text="${calorieCount}"></h1>
            <form th:action="@{/dashboardTrack}" th:object="${calorieDto}" method="post">
              <div class="form-group row">
                <div class="col-md-4 ">
                  <label for="calories1">Calories</label>
                  <input type="number" class="form-control" id="calories1" autocomplete="off" th:field="*{calories}"/>
                </div>
              </div>

              <!--      <div class="form-group last mb-4">-->
              <!--        <label for="food">Password</label>-->
              <!--        <input th:field="*{food}" type="text" class="form-control" id="food">-->
              <!--      </div>-->
              <input type="submit" value="Track" class="btn btn-dark btn-lg">
            </form>
          </div>
        </div>
        <div class="col-md-6">
          <div class="shadow h-100 p-5 bg-dark border rounded-3">
            <p>Your Daily Calorie Goal:</p>
            <h1>2400</h1>
          </div>
        </div>

      </div>
      <div class="shadow p-5 mb-4 text-bg-normal border rounded-3">
        <div class="container-fluid py-5 text-center">
          <h1>Recommended Meals</h1>
          <p>Lasagna: 336 Calories, Pasta: 275 Calories</p>
        </div>
      </div>

      <form th:action="@{/addFood}" th:object="${calorieDto}" method="post">
        <div class="form-group row">
          <div class="col-md-4 ">
            <label for="foodName">Enter Food</label>
            <input type="text" placeholder="Tomato.." class="form-control" id="foodName" th:field="*{foodName}"/>
          </div>
        </div>
        <input type="submit" value="Add Food" onclick="confirmFood()" class="btn btn-dark btn-lg">
        <input type="button" value="Alert Bananas" onclick="alertBanana()" class="btn btn-dark btn-lg">



        <script>
          function confirmFood() {

            alert(document.getElementById("foodName").value + " has been added to your intake!");
          }
        </script>
      </form>

      <body>
      <div id="myData"></div>
      <script>
        fetch('food.json')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            var mainContainer = document.getElementById("myData");
            for (var i = 0; i < data.length; i++) {
                var div = document.createElement("div");
                div.innerHTML = 'Food: ' + data[0].foods[i].lowercaseDescription + 'Calories: ' + data[0].foods[i].foodNutrients.nutrientId.find(1008).nutrientNumber;
                mainContainer.appendChild(div);
            }
        }
      </script>
      </body>

    </div>

    </div>
    </div>
    </div>
  </main>
</section>


<!-- ======= Footer ======= -->
<footer class="footer" id="footer">
  <div class="container">
    <a class="footer-link" href="">LinkedIn</a>
    <a class="footer-link" href="https://github.com/domlabutay/CS151-CalorieTracker/tree/main/project_proposal">Github</a>
    <a class="footer-link" href="">Website</a>
    <p class="copyright">Â© 2022 Team7.</p>

  </div>
</footer>

<!-- End Footer -->

<!--JS Files -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

<!-- Template Main JS File -->
<script th:src="@{/assets/js/main.js}"></script>
</body>

</html>